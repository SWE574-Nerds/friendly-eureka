

{% extends 'base.html' %}

{% block body %}
    <!--{#post/{{ post.id }}#}-->
    <!--{#{% url 'detail' id=post.id %}#}-->

     {% if posts|length > 0 %}
        <div class="container">
            {% for post in posts %}
                <div class="row">
                  <div class="col-md-8 col-md-offset-2">
                    <div class="thumbnail">
                      <div class="caption">
                          {% if post.image %}
                          <img src="{{ post.image.url }}" class="img-responsive">
                          {% endif %}
                        <h3>{{ post.title }}<small> {{ post.publishing_date|timesince }} Ã¶nce </small></h3>
                          <h5>User: {{ post.user }}</h5>
                        <p>{{ post.content|safe|linebreaks|truncatechars:150 }}</p>
                            {% if request.user.is_authenticated %}
                                <p>
                                    <a href="{{ post.get_absolute_url }}" class="btn btn-primary" role="button"><span class='glyphicon glyphicon-info-sign'></span></a>
                                    {% if request.user == post.user %}
                                        <a href="{{ post.get_update_url }}" class="btn btn-default" role="button"><span class='glyphicon glyphicon-pencil'></span></a>
                                        <a href="{{ post.get_delete_url }}" class="btn btn-danger" role="button" onclick="return confirm('Are you sure to delete?')"><span class='glyphicon glyphicon-remove'></span></a>
                                    {% endif %}
                                </p>
                             {% endif %}
                      </div>
                    </div>
                  </div>
                </div>

            {% endfor %}
            <div class="row">
              <div class="col-md-8 col-md-offset-2">
                <div class="pagination">
                    <span class="step-links">
                        {% if posts.has_previous %}
                            <a href="?page={{ posts.previous_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">previous</a>
                        {% endif %}

                        <span class="current">
                            Page {{ posts.number }} of {{ posts.paginator.num_pages }}.
                        </span>

                        {% if posts.has_next %}
                            <a href="?page={{ posts.next_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">next</a>
                        {% endif %}
                        </span>
                    </div>
                </div>
            </div>
        </div>
     {% else %}
        <div class="container">
            <div class="row" style="text-align:center;margin-top:100px">
                <div class="col-md-12">
                    <h2>You are not following any Living History Items!</h2>
                </div>
                <div class="col-md-12" style="margin-top:20px">
                    {% load static %}
                    <img src="{% static "/img/alert.png" %}" alt="Eureka!" style="width:100px;height:75px"/>
                </div>
                <div class="col-md-12" style="margin-top:20px">
                    <h4>Find a piece of history you're interested in and never miss an update!</h4>
                </div>
                <div class="col-md-12">
                    <h4>Use "search" or create your own piece of history.</h4>
                </div>
            </div>
         </div>
    {% endif %}



{% endblock %}
