<div class="card cardcanvas" *ngIf="listory">
    <div class="card-block">

        <p class="category">
            <span *ngFor="let tag of listory.tags" 
            class="badge badge-primary tag">
            {{tag.name}}</span>
        </p>

        <h4 class="card-title">{{listory.name}}</h4>

        <div class="left info-block">
            <img *ngIf="listory.image" src="{{listory.image}}" />
            <hr *ngIf="listory.image">

            <p class="year-component">
                <span class="badge badge-success">{{listory.time.name}}</span>
                <span>{{listory.time.values[0]}}</span>
                <span *ngIf="(listory.time.values.length > 1)"> - {{listory.time.values[1]}}</span>
            </p>
            <p class="year-component">
                <span class="badge badge-info">Author</span> {{listory.owner.name}}</p>
            <p class="year-component">
                <span class="badge badge-default">Created at</span> {{listory.createdAt}}</p>                
        </div>
        

        <selectabletext class="card-text" [selections]="selections" [listory]="listory"></selectabletext>

    </div>

    <div *ngIf="user && user.token && user.name == listory.owner.name">
            <button type="button" class="btn btn-danger" (click)="deleteListory(listory.listoryId)" >Delete</button>            
    </div>
</div>

<maps *ngIf="listory && listory.markers"  [config]="markersConfig"></maps>


<div *ngIf="!listory">
    <div class="card-block">
        <p class="category">
            <span class="badge badge-primary">History item not found</span>
        </p>
    </div>    
</div>

